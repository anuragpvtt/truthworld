PKâ€”\ÃƒZâ€¦KaÃ­Â§Â§truthworld-backend/server.jsconst express = require('express'); const mongoose = require('mongoose'); const cors = require('cors'); require('dotenv').config(); const authRoutes = require('./routes/auth'); const postRoutes = require('./routes/posts'); const commentRoutes = require('./routes/comments'); const app = express(); app.use(cors()); app.use(express.json()); app.use('/api/auth', authRoutes); app.use('/api/posts', postRoutes); app.use('/api/comments', commentRoutes); mongoose.connect(process.env.MONGO_URI, { useNewUrlParser: true, useUnifiedTopology: true }) .then(() => { app.listen(5000, () => console.log('Server running on port 5000')); }) .catch((err) => console.error(err)); PKâ€”\ÃƒZâ€šNÃªiÃ›Ã›!truthworld-backend/models/User.jsconst mongoose = require('mongoose'); const userSchema = new mongoose.Schema({ username: String, email: { type: String, unique: true }, password: String, }); module.exports = mongoose.model('User', userSchema); PKâ€”\ÃƒZ1;â€°Ã®â„¢â„¢!truthworld-backend/models/Post.jsconst mongoose = require('mongoose'); const postSchema = new mongoose.Schema({ author: { type: mongoose.Schema.Types.ObjectId, ref: 'User' }, content: String, reactions: { like: { type: Number, default: 0 }, love: { type: Number, default: 0 }, sad: { type: Number, default: 0 }, }, createdAt: { type: Date, default: Date.now }, }); module.exports = mongoose.model('Post', postSchema); PKâ€”\ÃƒZÃRÂ¿â€°UU$truthworld-backend/models/Comment.jsconst mongoose = require('mongoose'); const commentSchema = new mongoose.Schema({ postId: { type: mongoose.Schema.Types.ObjectId, ref: 'Post' }, author: { type: mongoose.Schema.Types.ObjectId, ref: 'User' }, text: String, createdAt: { type: Date, default: Date.now }, }); module.exports = mongoose.model('Comment', commentSchema); PKâ€”\ÃƒZ gÂ¼HHtruthworld-backend/.envMONGO_URI=your_mongodb_connection_string JWT_SECRET=your_jwt_secret_key PKâ€”\ÃƒZâ€¦KaÃ­Â§Â§Â¤Âtruthworld-backend/server.jsPKâ€”\ÃƒZâ€šNÃªiÃ›Ã›!Â¤ÂÃ¡truthworld-backend/models/User.jsPKâ€”\ÃƒZ1;â€°Ã®â„¢â„¢!Â¤ÂÃ»truthworld-backend/models/Post.jsPKâ€”\ÃƒZÃRÂ¿â€°UU$Â¤ÂÃ“truthworld-backend/models/Comment.jsPKâ€”\ÃƒZ gÂ¼HHÂ¤Âjtruthworld-backend/.envPKÃ§
